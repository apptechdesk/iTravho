(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{1498:(e,s,a)=>{"use strict";a.d(s,{A:()=>y});var l=a(5155),t=a(2115),n=a(5695),r=a(4540),i=a(4330),c=a(6874),A=a.n(c),o=a(6766),d=a(3783),u=a(9607),m=a(235),x=a(4783),h=a(6474),g=a(4835),p=a(3127),j=a(8158),b=a(3874),N=a(5888),f=a(1890),v=a.n(f);let F={src:"/iTravho/_next/static/media/logo-light.8226d532.png",height:128,width:375,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAALVBMVEXl5+rfjSXt7vDk5OTr6+vt7e3wmwDo6Ojr8fj0sTXwmwDq6urxry3r6+vp6el5+od0AAAAD3RSTlM3BZIOVZ1IiSdgeFiXtkn9FnEvAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAI0lEQVR4nGNgYWZm5OBgZGRgYudlZWLi4WJgYOBmYWDgZAMABc8AcVtwZkMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3},w=()=>{let e=(0,r.wA)(),s=(0,n.useRouter)(),a=(0,n.usePathname)(),[c,f]=(0,t.useState)(!1),[w,_]=(0,t.useState)(!1),[C,I]=(0,t.useState)(!0),k=e=>(null==e?void 0:e.split("/").filter(Boolean).slice(0,3).join("/"))||"";(0,t.useEffect)(()=>{if(!a)return;I(window.innerWidth>=991);let e="/".concat(k(a||"")),s=D.findIndex(s=>{var a;return null==(a=s.submodules)?void 0:a.some(s=>s.path===e)});-1!==s&&f("panel".concat(s))},[a]);let E=e=>(s,a)=>{C&&c===e||f(!!a&&e)},B=(e,s)=>{let t=k(a||"")===k(e||"");return(0,l.jsx)(A(),{href:e,className:"".concat(v().dash_sub_menu," ").concat(t?v().active:""),onClick:()=>_(!1),children:s},e)},D=[{name:"Quick Links",icon:(0,l.jsx)(d.A,{size:20,color:"#FFFFFF"}),submodules:[{label:"All Requests",path:"/dashboard"}]},{name:"Booking Ticket",icon:(0,l.jsx)(u.A,{size:18,color:"#FFFFFF"}),submodules:[{label:"Add New Requests",path:"/dashboard/new-requests"},{label:"All Requests",path:"/dashboard"},{label:"Bookings",path:"#"},{label:"Invoices",path:"#"}]},{name:"Analytics",icon:(0,l.jsx)(m.A,{size:18,color:"#FFFFFF"}),submodules:[{label:"Customer Reports",path:"#"}]}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"".concat(v().backDrop," "),onClick:()=>_(!1)}),(0,l.jsx)("div",{onClick:e=>{e.stopPropagation(),I(!1)},onMouseLeave:()=>I(!0),className:"flex-shrink-0 sticky top-0 z-50 ".concat(v().sidebar_box," ").concat(C?"w-[50px!important]":""," ").concat(w?"active":""),children:(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex items-center ".concat("justify-center"," mt-2 mb-2 px-4"),children:[!C&&(0,l.jsx)(A(),{href:"/dashboard",children:(0,l.jsx)(o.default,{src:F,alt:"Logo",className:"w-24"})}),C&&(0,l.jsx)(p.A,{onClick:()=>I(!C),children:(0,l.jsx)(x.A,{color:"#FFFFFF"})})]}),D.map((e,s)=>(0,l.jsx)("div",{children:0===e.submodules.length?(0,l.jsxs)("button",{type:"button",className:"flex items-center ".concat(v().dashboard_menu),children:[e.icon,!C&&(0,l.jsx)("span",{className:"ml-2",children:e.name})]}):(0,l.jsxs)(j.A,{className:"sidebar_accordion !bg-transparent !rounded-none",expanded:c==="panel".concat(s),onChange:E("panel".concat(s)),children:[(0,l.jsx)(b.A,{expandIcon:(0,l.jsx)(h.A,{size:18,color:"#FFFFFF",className:"".concat(C?"hidden":"")}),children:(0,l.jsxs)("div",{className:"flex items-center text-sm text-[#FFF]",children:[e.icon,!C&&(0,l.jsx)("span",{className:"ml-2 text-white",children:e.name})]})}),(0,l.jsx)(N.A,{className:"".concat(v().sub_menu_box," ").concat(C?"hidden":""),children:e.submodules.map(e=>B(e.path,e.label))})]})},s)),(0,l.jsxs)("button",{type:"button",className:"flex items-center ".concat(C?"justify-center":""," ").concat(v().dashboard_menu),onClick:()=>{localStorage.removeItem("userDetails"),e((0,i.lM)()),s.push("/user/login")},children:[(0,l.jsx)(g.A,{size:17,color:"#FFFFFF",className:"".concat(C?"relative left-[1.7px]":"mr-3")}),!C&&(0,l.jsx)("span",{className:"text-white",children:"Logout"})]})]})})]})};var _=a(2098),C=a(3509),I=a(1007),k=a(2919),E=a(4788);let B={src:"/iTravho/_next/static/media/avatar-1.0580866e.jpg",height:128,width:128,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACcEn//xAAdEAACAQQDAAAAAAAAAAAAAAACAwEABBESEyIx/9oACAEBAAE/AEI55uULhRmLRLrOT118r//EABwRAAIABwAAAAAAAAAAAAAAAAESAAIDERQiUf/aAAgBAgEBPwCgMh3J0mUW5H//xAAbEQEAAAcAAAAAAAAAAAAAAAABAAIDERITIv/aAAgBAwEBPwCrNpTEOi7H/9k=",blurWidth:8,blurHeight:8},D=e=>{let{isOpen:s,onClose:a}=e,c=(0,t.useRef)(null),d=(0,r.wA)(),u=(0,n.useRouter)(),m=(0,r.d4)(e=>e.user.userDetails);return((0,t.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&a()}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a]),s)?(0,l.jsxs)("div",{className:"dropdown-menu absolute right-0 mt-2 z-50",ref:c,children:[(0,l.jsxs)("div",{className:"flex items-center p-2 bg-gray-100 dark:bg-gray-700",children:[(0,l.jsx)(o.default,{src:B,alt:"avatar",width:40,height:40,className:"rounded-full"}),(0,l.jsxs)("div",{className:"ml-2",children:[(0,l.jsx)("h6",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:null==m?void 0:m.accountName}),(0,l.jsx)("small",{className:"text-gray-500",children:null==m?void 0:m.userRole})]})]}),(0,l.jsxs)("div",{className:"py-1",children:[(0,l.jsx)("small",{className:"text-muted px-2 pb-1 block",children:"Account"}),(0,l.jsxs)(A(),{href:"/profile",className:"dropdown-item",children:[(0,l.jsx)(I.A,{className:"w-4 h-4 inline-block mr-2"})," Profile"]}),(0,l.jsx)("small",{className:"text-muted px-2 pb-1 block",children:"Setting"}),(0,l.jsxs)(A(),{href:"/security",className:"dropdown-item",children:[(0,l.jsx)(k.A,{className:"w-4 h-4 inline-block mr-2"})," Security"]}),(0,l.jsxs)(A(),{href:"/pages-faq",className:"dropdown-item",children:[(0,l.jsx)(E.A,{className:"w-4 h-4 inline-block mr-2"})," Help Center"]}),(0,l.jsx)("div",{className:"border-t border-[#eaf0f9]"}),(0,l.jsxs)("button",{className:"dropdown-item !text-blue-500 !font-medium w-full text-left",onClick:()=>{localStorage.removeItem("userDetails"),d((0,i.lM)()),u.push("/user/login")},children:[(0,l.jsx)(g.A,{className:"w-4 h-4 inline-block mr-2"})," Logout"]})]})]}):null},S=()=>{(0,r.d4)(e=>e.user.userDetails);let[e,s]=(0,t.useState)(!1),[a,n]=(0,t.useState)(!1);return(0,l.jsx)("div",{className:"ml-[50px] topbar print:hidden bg-white dark:bg-gray-900 shadow",children:(0,l.jsx)("div",{className:"px-4",children:(0,l.jsxs)("nav",{className:"flex justify-between items-center py-2",children:[(0,l.jsx)("ul",{className:"flex items-center space-x-4",children:(0,l.jsxs)("li",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"vr-line"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-gray-700",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Airservemarine"}),(0,l.jsx)("span",{className:"text-gray-400",children:"|"}),(0,l.jsx)("span",{className:"text-sky-500",children:"Requests"})]})]})}),(0,l.jsxs)("ul",{className:"flex items-center space-x-4",children:[(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>s(!e),className:"nav-icon",children:e?(0,l.jsx)(_.A,{}):(0,l.jsx)(C.A,{})})}),(0,l.jsxs)("li",{className:"relative",children:[(0,l.jsx)("button",{className:"nav-icon",onClick:()=>n(!a),children:(0,l.jsx)(o.default,{src:B,alt:"avatar",className:"rounded-full",width:32,height:32})}),(0,l.jsx)(D,{isOpen:a,onClose:()=>n(!1)})]})]})]})})})},y=e=>{let{children:s}=e,a=(0,r.wA)(),c=(0,n.useRouter)(),[A,o]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{let e=localStorage.getItem("userDetails");if(e)try{let s=JSON.parse(e);a((0,i.gV)(s)),o(!1)}catch(e){console.error("Invalid user JSON:",e),localStorage.removeItem("userDetails"),c.push("/user/login")}else c.push("/user/login")},[a,c]),A)?(0,l.jsx)("div",{className:"p-4",children:"Checking authentication..."}):(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(w,{}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(S,{}),(0,l.jsx)("main",{className:"ml-[50px]",children:s})]})]})}},1890:e=>{e.exports={sidebar_box:"SideBar_sidebar_box__Wb3qn",hidden:"SideBar_hidden__BApcR",active:"SideBar_active__IR4Z3",dashboard_menu:"SideBar_dashboard_menu___LPbw",railNavView:"SideBar_railNavView__u4iGR",dash_sub_menu:"SideBar_dash_sub_menu__ut6fO",accorMenu:"SideBar_accorMenu__Xw3NQ"}},4330:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>r,gV:()=>t,lM:()=>n});let l=(0,a(1990).Z0)({name:"user",initialState:{userDetails:null},reducers:{setUser:(e,s)=>{e.userDetails=s.payload,localStorage.setItem("userDetails",JSON.stringify(s.payload))},clearUser:e=>{e.userDetails=null,localStorage.removeItem("userDetails")}}}),{setUser:t,clearUser:n}=l.actions,r=l.reducer}}]);