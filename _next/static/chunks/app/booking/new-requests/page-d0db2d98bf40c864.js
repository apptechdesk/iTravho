(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[656],{42681:(e,t,o)=>{Promise.resolve().then(o.bind(o,99966))},99966:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>w});var n=o(95155),a=o(12115),r=o(53129),l=o(12294),s=o(51417),i=o(99122),c=o(19361),d=o(10642),m=o(32111),u=o(74947),p=o(34303),h=o(11025);let y=o(23464).A.create({baseURL:"https://smartflyservices.travho.net/api",headers:{"Content-Type":"application/json",Accept:"*/*"}});y.interceptors.request.use(e=>{var t;return console.log("[Request] ".concat(null==(t=e.method)?void 0:t.toUpperCase()," ").concat(e.url)),e},e=>(console.error("[Request Error]",e),Promise.reject(e))),y.interceptors.response.use(e=>(console.log("[Response] ".concat(e.status,": ").concat(e.config.url),e.data),e),e=>{if(e.response){let{status:t,config:o,data:n}=e.response;switch(console.error("[Response Error] ".concat(t," - ").concat(o.url),n),t){case 400:console.error("Bad Request");break;case 401:console.error("Unauthorized - Token may be invalid");break;case 500:console.error("Internal Server Error");break;default:console.error("Unhandled API Error")}}else console.error("Network Error:",e.message);return Promise.reject(e)});let x=async()=>(await y.get("/DataManager/CityList")).data;var A=o(35695);let{Option:j}=r.A,{TextArea:b}=l.A,v=["INDIAN","AMERICAN","BRITISH","AUSTRALIAN"],w=()=>{let e=(0,A.useRouter)(),[t]=s.A.useForm(),[o,y]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async()=>{try{let e=await x();y(e)}catch(e){console.error("Failed to fetch city list:",e)}})()},[]),(0,n.jsx)(h.A,{children:(0,n.jsx)("div",{className:"inner-section",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto my-4 p-6 bg-white shadow rounded-md",children:[(0,n.jsx)(i.A.Title,{level:3,children:"New Flight Quote Request"}),(0,n.jsx)(s.A,{form:t,layout:"vertical",onFinish:t=>{var n,a,r,l;let s=o.find(e=>e.cityCode===t.from),i=o.find(e=>e.cityCode===t.to),c=new URLSearchParams({...t,issuedDate:null==(n=t.issuedDate)?void 0:n.format("YYYY-MM-DD"),expiryDate:null==(a=t.expiryDate)?void 0:a.format("YYYY-MM-DD"),dob:null==(r=t.dob)?void 0:r.format("YYYY-MM-DD"),departureDate:null==(l=t.departureDate)?void 0:l.format("YYYY-MM-DD"),route:"".concat(null==s?void 0:s.cityName,"(").concat(null==s?void 0:s.cityCode,") â†’ ").concat(null==i?void 0:i.cityName,"(").concat(null==i?void 0:i.cityCode,")")}).toString();e.push("/create-quote?".concat(c))},initialValues:{passengerCount:1},children:(0,n.jsxs)(c.A,{gutter:16,children:[[{name:"name",label:"Name",component:(0,n.jsx)(l.A,{})},{name:"rank",label:"Rank",component:(0,n.jsx)(d.A,{min:1,style:{width:"100%"}})},{name:"seamanBookNo",label:"Seaman Book No",component:(0,n.jsx)(l.A,{})},{name:"passport",label:"Passport Number",component:(0,n.jsx)(l.A,{})},{name:"issuedDate",label:"Issued Date",component:(0,n.jsx)(m.A,{style:{width:"100%"}})},{name:"expiryDate",label:"Expiry Date",component:(0,n.jsx)(m.A,{style:{width:"100%"}})},{name:"issuedAt",label:"Issued At",component:(0,n.jsx)(l.A,{})},{name:"nationality",label:"Nationality",component:(0,n.jsx)(r.A,{placeholder:"Select nationality",children:v.map(e=>(0,n.jsx)(j,{value:e,children:e},e))})},{name:"dob",label:"Date of Birth",component:(0,n.jsx)(m.A,{style:{width:"100%"}})},{name:"baggage",label:"Baggage (Kg)",component:(0,n.jsx)(d.A,{min:0,style:{width:"100%"}})},{name:"from",label:"From (Origin)",component:(0,n.jsx)(r.A,{showSearch:!0,placeholder:"Select origin city",optionFilterProp:"children",filterOption:(e,t)=>{var o,n;return((null==t||null==(n=t.children)||null==(o=n.toString())?void 0:o.toLowerCase())||"").includes(e.toLowerCase())},children:o.map(e=>(0,n.jsxs)(j,{value:e.cityCode,children:[e.cityName," (",e.cityCode,")"]},e.cityCode))})},{name:"to",label:"To (Destination)",component:(0,n.jsx)(r.A,{showSearch:!0,placeholder:"Select destination city",optionFilterProp:"children",filterOption:(e,t)=>{var o,n;return((null==t||null==(n=t.children)||null==(o=n.toString())?void 0:o.toLowerCase())||"").includes(e.toLowerCase())},children:o.map(e=>(0,n.jsxs)(j,{value:e.cityCode,children:[e.cityName," (",e.cityCode,")"]},e.cityCode))})},{name:"departureDate",label:"Departure Date",component:(0,n.jsx)(m.A,{style:{width:"100%"}})},{name:"passengerCount",label:"Passenger Count",component:(0,n.jsx)(d.A,{min:1,style:{width:"100%"}})}].map(e=>{let{name:t,label:o,component:a}=e;return(0,n.jsx)(u.A,{xs:24,md:12,children:(0,n.jsx)(s.A.Item,{label:o,name:t,rules:[{required:!0}],children:a})},t)}),(0,n.jsx)(u.A,{span:24,children:(0,n.jsx)(s.A.Item,{label:"Notes / Remarks",name:"notes",children:(0,n.jsx)(b,{rows:3})})}),(0,n.jsx)(u.A,{span:24,children:(0,n.jsx)(s.A.Item,{className:"flex justify-end",children:(0,n.jsx)(p.Ay,{type:"primary",htmlType:"submit",children:"Submit Request"})})})]})})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[153,63,635,501,200,129,504,385,25,441,684,358],()=>t(42681)),_N_E=e.O()}]);