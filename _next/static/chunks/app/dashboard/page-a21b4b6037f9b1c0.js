(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{15691:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var l=a(95155),s=a(12115),r=a(52856),n=a(30832),o=a.n(n),i=a(57946),c=a(37073),d=a(20331);let u=function(e){let{tabs:t,activeTab:a,onTabChange:s}=e;return(0,l.jsx)("div",{className:"tab_Sec_box",children:(0,l.jsx)("div",{className:"tab_Sec flex gap-[0_30px]",children:t.map((e,t)=>(0,l.jsx)(d.A,{children:(0,l.jsx)("div",{className:"tab_menu ".concat(a===t?"active":""),onClick:()=>s(t,e),children:"".concat(null==e?void 0:e.label," (").concat(null==e?void 0:e.count,")")})},t))})})};var m=a(68534),x=a(73769),h=a(66673);let p=()=>(0,l.jsxs)("svg",{width:"45",height:"45",viewBox:"0 0 53 53",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("rect",{width:"53",height:"53",rx:"26.5",fill:"#014EFF"}),(0,l.jsx)("path",{d:"M28.4165 24.5835H16.9165",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M24.5832 28.4165H16.9165",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M20.7498 32.25H16.9165",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M32.2498 20.75H16.9165",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M33.2085 24.5835V34.1668M33.2085 34.1668L36.0835 31.2918M33.2085 34.1668L30.3335 31.2918",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),b=(e,t)=>{var a;return null==(a=(null==t?void 0:t.filter(t=>(null==t?void 0:t.value)===e))[0])?void 0:a.label},j=e=>{let{sortOptions:t}=e,[a,r]=(0,s.useState)(null!==e.value&&void 0!==e.value?b(e.value,t):"SortBy"),[n,o]=(0,s.useState)(null),i=!!n,c=(t,a)=>{e.handleSortBy(t,a),r(t),o(null)};return(0,s.useEffect)(()=>{null!==e.value&&void 0!==e.value?r(b(e.value,t)):r("asc")},[e.value,t]),(0,l.jsxs)("div",{className:"sort-by-block",children:[(0,l.jsx)(m.A,{className:"!w-[35px] !p-0",id:"sortby-button","aria-controls":i?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:e=>{o(e.currentTarget)},disabled:e.isDisabled,children:(0,l.jsx)(p,{})}),(0,l.jsx)(x.A,{className:"custom-sort",id:"sortby-menu",anchorEl:n,open:i,onClose:()=>o(null),MenuListProps:{"aria-labelledby":"basic-button"},children:t.map((e,t)=>(0,l.jsx)(h.A,{onClick:()=>c(e.label,null==e?void 0:e.value),children:e.label},e.value))})]})};var v=a(32111),g=a(65095);let{RangePicker:f}=v.A,y=e=>{let{tabs:t,selectedDateKey:a,onSelect:r,onDateChange:n}=e,[i,c]=(0,s.useState)(!1);return(0,l.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 px-4 py-2 flex items-center justify-between shadow-sm",children:[(0,l.jsx)("div",{className:"flex flex-1 justify-between text-sm font-medium text-primary",children:t.map(e=>(0,l.jsx)("button",{onClick:()=>r(e.dateKey),className:"relative px-2 py-1 cursor-pointer",children:(0,l.jsxs)("span",{className:"".concat(a===e.dateKey?"underline underline-offset-[6px] font-semibold":""),children:[e.label," (",e.count,")"]})},e.dateKey))}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{onClick:()=>c(e=>!e),className:"ml-2 hover:text-primary cursor-pointer","aria-label":"Select Date Range",children:(0,l.jsx)(g.A,{})}),i&&(0,l.jsx)("div",{className:"absolute right-0 mt-2 z-50 bg-white shadow-lg rounded",children:(0,l.jsx)(f,{open:!0,onChange:(e,t)=>{if(Array.isArray(t)&&t[0]&&t[1]&&n){let[e,a]=t;n("".concat(o()(e).format("DD-MMM-YYYY")," - ").concat(o()(a).format("DD-MMM-YYYY")),e,a)}c(!1)},onOpenChange:e=>!e&&c(!1),getPopupContainer:e=>e.parentElement,allowClear:!1,inputReadOnly:!0,style:{width:0,height:0,padding:0,border:"none"},popupStyle:{marginTop:8}})})]})]})};var N=a(57161),k=a(84868),w=a(34303),D=a(85292),M=a(31511),S=a(61037),Y=a(40579),A=a(24073),C=a(66766);let _=e=>{let{trip:t,onActionSelect:a}=e,s=(0,l.jsx)(N.A,{onClick:e=>{let{key:l}=e;return a(t.tid,l)},items:[{key:"create-quote",label:"Create Quote",icon:(0,l.jsx)(D.A,{})},{key:"mark-invalid",label:"Mark Invalid",icon:(0,l.jsx)(M.A,{})},{key:"mark-directbook",label:"Mark DirectBook",icon:(0,l.jsx)(S.A,{})},{key:"focal-scope",label:"Focal Scope",icon:(0,l.jsx)(Y.A,{})}]});return(0,l.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-xl shadow-sm",children:[(0,l.jsxs)("div",{className:"text-center w-16 text-xs font-semibold text-pri",children:[(0,l.jsx)("div",{children:"TID"}),(0,l.jsx)("div",{className:"text-xs",children:t.tid})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)(C.default,{src:t.airlineLogo||"https://placehold.co/80x80/png",alt:"airline-logo",className:"w-10 h-10 object-contain rounded-lg",width:40,height:40})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-xs font-semibold",children:t.name}),(0,l.jsxs)("span",{className:"text-xs font-medium gap-2",children:[(0,l.jsx)(A.A,{className:"mr-1 text-sm text-gray-700"}),t.route]})]})]}),(0,l.jsx)(k.A,{overlay:s,trigger:["click"],children:(0,l.jsx)(w.Ay,{type:"text",icon:(0,l.jsx)(g.A,{})})})]})},L=e=>{let{trips:t,onAction:a}=e;return(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:t.map((e,t)=>(0,l.jsx)("div",{className:"space-y-5",children:e.map(e=>(0,l.jsx)(_,{trip:e,onActionSelect:a},e.tid))},t))})};var B=a(24999);let{Search:I}=r.A,T=[{label:"New",count:25},{label:"Approved",count:3},{label:"Failed",count:3},{label:"Pending",count:5},{label:"Completed",count:50}],E=[[{tid:8432,name:"Mr Ron Weasley",route:"Copenhagen(CPH) → Singapore(SIN)"},{tid:9883,name:"Mr Sirius Black",route:"Singapore(SIN) ↔ Dubai(DXB)"}],[{tid:4363,name:"Mr Draco Malfoy",route:"Chennai(MAA) → Singapore(SIN)"},{tid:7544,name:"Mrs Hermione Granger",route:"Singapore(SIN) ↔ Dubai(DXB)"}],[{tid:1025,name:"Mr Albus Dumbledore",route:"Singapore(SIN) → AbuDhabi(AUH)"}]],H=[{label:"Sort by Name",value:"name"},{label:"Sort by Date",value:"created_at"}],K=()=>{(0,c.u)({protect:!0});let e=o()(),t=e.add(5,"day"),a=[{label:"Today",count:2,dateKey:"today"},{label:"Tomorrow",count:2,dateKey:"tomorrow"},{label:"".concat(e.format("DD-MMM-YYYY")," - ").concat(t.format("DD-MMM-YYYY")),count:1,dateKey:"".concat(e.format("YYYY-MM-DD"),"_to_").concat(t.format("YYYY-MM-DD")),startDate:e.format("YYYY-MM-DD"),endDate:t.format("YYYY-MM-DD")}],[r,n]=(0,s.useState)(0),[d,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(T),[p,b]=(0,s.useState)(a),[v,g]=(0,s.useState)("today"),f=e=>{console.log("Search value:",e)};return(0,l.jsx)(i.A,{children:(0,l.jsxs)("section",{className:"inner-section",children:[(0,l.jsx)("div",{className:"grid justify-end mb-5",children:(0,l.jsx)(B.A,{addClass:"primary",onClick:()=>alert("New request modal triggered"),children:"+ Create New Request"})}),(0,l.jsxs)("div",{className:"tab-section space-y-4 flex justify-between items-center",children:[(0,l.jsx)(u,{tabs:x,activeTab:r,onTabChange:e=>{n(e)}}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,l.jsx)(j,{sortOptions:H,value:d,handleSortBy:(e,t)=>{m(null!=t?t:null)},isDisabled:!1}),(0,l.jsx)("div",{className:"input-group !mb-0 w-full md:max-w-md",children:(0,l.jsx)(I,{size:"large",placeholder:"Search",allowClear:!0,onChange:e=>f(e.target.value)})})]})]}),(0,l.jsx)(y,{tabs:p,selectedDateKey:v,onSelect:g,onDateChange:(e,t,a)=>{let l="".concat(t,"_to_").concat(a);b([...p.filter(e=>!e.startDate||!e.endDate),{label:e,count:0,dateKey:l,startDate:t,endDate:a}]),g(l)}}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(L,{trips:E,onAction:(e,t)=>{alert("TID ".concat(e,": ").concat(t))}})})]})})}},24999:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(95155),s=a(12115),r=a(34303);let n=(0,s.forwardRef)((e,t)=>{let{children:a,addClass:s,btnType:n="button",...o}=e;return(0,l.jsx)(r.Ay,{ref:t,htmlType:n,className:"btn ".concat(s||""),...o,children:a})});n.displayName="CustomButton";let o=n},37073:(e,t,a)=>{"use strict";a.d(t,{u:()=>r});var l=a(12115),s=a(35695);function r(e){let{protect:t=!1,blockIfAuthenticated:a=!1,redirectTo:r="/user/login",redirectIfAuthenticatedTo:n="/dashboard"}=e,o=(0,s.useRouter)(),i=(0,s.usePathname)();(0,l.useEffect)(()=>{let e=localStorage.getItem("userDetails");t&&!e&&o.replace(r),a&&e&&o.replace(n)},[i,t,a,r,n,o])}},70738:(e,t,a)=>{Promise.resolve().then(a.bind(a,15691))}},e=>{var t=t=>e(e.s=t);e.O(0,[534,63,635,486,262,303,200,769,515,946,441,684,358],()=>t(70738)),_N_E=e.O()}]);